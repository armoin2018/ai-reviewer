{
  "name": "assert_compliance",
  "inference_description": "Run deterministic checks (secrets, directives, headers) on a diff; can auto-load repo guidance.",
  "endpoint": "POST https://<your-domain>/assert-compliance",
  "schema": {
    "type": "object",
    "required": [
      "diff"
    ],
    "properties": {
      "diff": {
        "type": "string"
      },
      "checklist": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string"
            },
            "text": {
              "type": "string"
            }
          }
        }
      },
      "owner": {
        "type": "string"
      },
      "repo": {
        "type": "string"
      },
      "ref": {
        "type": "string"
      },
      "prLabels": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "prTitle": {
        "type": "string"
      }
    }
  }
}